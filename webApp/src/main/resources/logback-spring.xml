<?xml version="1.0" encoding="UTF-8"?>
<configuration debug="false" scan="true" scanPeriod="1 seconds">
    <include resource="org/springframework/boot/logging/logback/base.xml"/>
    <contextName>logback</contextName>

    <!--    <appender name="stash" class="net.logstash.logback.appender.LogstashTcpSocketAppender">-->
    <!--        <destination>127.0.0.1:4560</destination>-->
    <!--        &lt;!&ndash; encoder必须配置,有多种可选 &ndash;&gt;-->
    <!--        <encoder charset="UTF-8" class="net.logstash.logback.encoder.LogstashEncoder">-->
    <!--&lt;!&ndash;            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%X{cname}:%X{cid},%X{uname}:%X{uid}]  %contextName [%thread] %-5level %logger{36} - %msg%n</pattern>&ndash;&gt;-->
    <!--&lt;!&ndash;            <pattern>[%d{yyyy-MM-dd' 'HH:mm:ss.sss}] [%-5p] [%t] [%C] [%L] %m%n</pattern>&ndash;&gt;-->
    <!--            <customFields>{"myvar":"${spring.application.name}"}</customFields>-->
    <!--            <includeMdcKeyName>tid</includeMdcKeyName>-->
    <!--        </encoder>-->
    <!--    </appender>-->

    <appender name="stash" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
        <destination>127.0.0.1:4560</destination>
        <encoder charset="UTF-8" class="net.logstash.logback.encoder.LogstashEncoder">
<!--            <providers>-->
<!--                <timestamp>-->
<!--                    <timeZone>UTC</timeZone>-->
<!--                </timestamp>-->
<!--                <pattern>-->
<!--                    {-->
<!--                    "ip": "${ip}",-->
<!--                    "app": "${spring.application.name}",-->
<!--                    "level": "%level",-->
<!--                    "trace": "%X{X-B3-TraceId:-}",-->
<!--                    "tid": "%tid",-->
<!--                    "span": "%X{X-B3-SpanId:-}",-->
<!--                    "parent": "%X{X-B3-ParentSpanId:-}",-->
<!--                    "thread": "%thread",-->
<!--                    "class": "%logger{40}",-->
<!--                    "message": "%message",-->
<!--                    "stack_trace": "%exception{10}"-->
<!--                    }-->
<!--                </pattern>-->
<!--            </providers>-->
        </encoder>
    </appender>
    <root level="info">
        <appender-ref ref="stash"/>
    </root>
</configuration>